<div class="task-summary">
    <div class="summary-card">
        <div class="summary-item">
            <span class="summary-number">{{totalTasks}}</span>
            <span class="summary-label">Total</span>
        </div>
        <div class="summary-item">
            <span class="summary-number">{{pendingTasks}}</span>
            <span class="summary-label">Pending</span>
        </div>
        <div class="summary-item">
            <span class="summary-number">{{completedTasks}}</span>
            <span class="summary-label">Completed</span>
        </div>
    </div>
</div>

<div class="task-form-section">
    <h2>Add New Task</h2>
    <form class="task-form" id="addTaskForm" method="POST" action="/tasks">
        <div class="form-group">
            <label for="title">Task Title <span class="required">*</span></label>
            <input type="text" 
                   id="title" 
                   name="title" 
                   class="form-input" 
                   placeholder="Enter task title..."
                   maxlength="255"
                   required>
            <div class="char-counter">
                <span id="titleCounter">0</span>/255 characters
            </div>
        </div>
        
        <div class="form-group">
            <label for="description">Description (Optional)</label>
            <textarea id="description" 
                      name="description" 
                      class="form-textarea" 
                      placeholder="Add task description..."
                      maxlength="1000"
                      rows="3"></textarea>
            <div class="char-counter">
                <span id="descriptionCounter">0</span>/1000 characters
            </div>
        </div>
        
        <button type="submit" class="btn btn-primary">
            <span class="btn-icon">+</span>
            Add Task
        </button>
    </form>
</div>

<div class="tasks-section">
    <h2>Your Tasks</h2>
    
    {{#if tasks.length}}
        <div class="tasks-list" id="tasksList">
            {{#each tasks}}
                {{> taskItem}}
            {{/each}}
        </div>
    {{else}}
        <div class="empty-state">
            <div class="empty-icon">üìù</div>
            <h3>No tasks yet</h3>
            <p>Create your first task to get started!</p>
        </div>
    {{/if}}
</div>

<div id="editModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Edit Task</h3>
            <button type="button" class="modal-close" id="closeModal">&times;</button>
        </div>
        <form id="editTaskForm" class="task-form">
            <div class="form-group">
                <label for="editTitle">Task Title <span class="required">*</span></label>
                <input type="text" 
                       id="editTitle" 
                       name="title" 
                       class="form-input" 
                       maxlength="255"
                       required>
                <div class="char-counter">
                    <span id="editTitleCounter">0</span>/255 characters
                </div>
            </div>
            
            <div class="form-group">
                <label for="editDescription">Description</label>
                <textarea id="editDescription" 
                          name="description" 
                          class="form-textarea" 
                          maxlength="1000"
                          rows="3"></textarea>
                <div class="char-counter">
                    <span id="editDescriptionCounter">0</span>/1000 characters
                </div>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" id="cancelEdit">Cancel</button>
                <button type="submit" class="btn btn-primary">Save Changes</button>
            </div>
        </form>
    </div>
</div>